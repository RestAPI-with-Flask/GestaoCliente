{% extends '_layout.html' %}

{% block title %}
<h1 class="text-white"> Meus Clientes </h1>
{% endblock %}

{% block main %}
<div class="container">
  <section class="d-flex justify-content-between align-items-center py-3">
    <form action="/" method="GET">
      <div class="input-group mb-3">
        <input type="text" class="form-control" placeholder="Pesquise algo..." name="q">
        <button class="btn btn-primary input-group-text" type="submit"> 
          Pesquisar 
        </button>
      </div>
    </form>
    <a href="/create" class="btn btn-primary"> 
      Cadastrar novo Cliente
    </a>
  </section>
  <hr>
  <section class="py-3">
    {% if data %}
      <table class="table">
        <thead>
          <tr>
            <th scope="col">#</th>
            <th scope="col"> Nome </th>
            <th scope="col"> Cpf </th>
            <th scope="col"> Data Nascimento </th>
            <th scope="col"> Ações </th>
          </tr>
        </thead>
        <tbody>
          {% for customer in data %}
            <tr>
              <td scope="col"> {{ customer.get('id') }} </td>
              <td scope="col"> {{ customer.get('nome') }} </td>
              <td scope="col"> {{ customer.get('cpf') }} </td>
              <td scope="col"> {{ customer.get('data_nascimento').strftime('%Y-%m-%d') }} </td>
              <td scope="col">
                <a href="/edit/{{customer.get('id')}}" class="btn btn-primary"> Editar </a>
                <a href="/delete/{{customer.get('id')}}" class="btn btn-danger"> Excluir </a> 
              </td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    {% else %}
      <h3> Não foram encontrados resultados. </h3>
    {% endif %}
  </section>
</div>
{% endblock %}
